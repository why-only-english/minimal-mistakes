---

layout: single
title: "브라우저 렌더링"
toc: true
toc_sticky: true
toc_label: " "
categories: tech

---

## 브라우저 렌더링이란

### 브라우저

- **웹에서 페이지를 찾아서 보여주고, 사용자가 하이퍼링크를 통해 다른 페이지로 이동할 수 있도록 하는 프로그램**
- **웹 서버와 통신하여 인터넷 사이트 및 다양한 콘텐츠를 볼 수 있도록 지원해 주는 소프트웨어 프로그램**
- ex) **구글 크롬(점유율⬆️)**, 인터넷 익스플로러(종료), 파이어폭스, 사파리, 오페라 등

### 렌더링

<center><img width="450" alt="image" src="https://github.com/why-only-english/Programmers/assets/114092152/a285b2db-02dc-4f9b-98c9-51615e27e50a"></center>

- 받아온 데이터의 내용대로 화면에 그리는 것을 **렌더링**이라고 함
- 렌더링에 필요한 것은 HTML, CSS, JavaScript 코드

> 즉, 서버로부터 HTML, CSS, JavaScript 등 작성한 파일을 받아 브라우저에 뿌려주는 것!
> 

## 브라우저 렌더링 과정

- 브라우저 렌더링은 **브라우저가 사용자에게 웹 페이지를 표시하는 프로세스**
- 사용자가 웹 페이지를 요청하면 브라우저는 웹 서버로 요청을 전송하고, 웹 서버는 페이지를 구성하는 HTML, CSS, JavaScript 코드로 응답
- 그런 다음 브라우저는 이 코드를 구문 분석 및 처리하고 **DOM(문서 개체 모델) 트리**와 **렌더 트리**를 작성한 후 이 트리를 사용하여 사용자의 화면에 페이지를 렌더링

<center><img width="450" alt="image" src="https://github.com/why-only-english/Programmers/assets/114092152/11caa75c-c658-430e-a756-2a784ac15ec9"></center>

### 1. 파싱

- 렌더링 과정 중 가장 중요(과정이 점진적으로 진행되기 때문)
- 브라우저는 HTML, CSS 등의 단순한 텍스트 문서를 이해할 수 없기 때문에 브라우저가 읽을 수 있도록 변환하는 과정이 필요
- 서버로부터 전송받은 문서의 문자열을 **브라우저가 이해할 수 있는 구조로 변환하는 과정**

**구문 분석 및 토큰화** 

- 브라우저는 HTML 코드를 구문 분석하여 페이지 구조를 나타내는 토큰 집합으로 바꿈

**DOM 트리 작성**

- 브라우저는 토큰을 사용하여 DOM(Document Object Model) 트리라고 하는 계층 트리 구조를 작성
- 이 트리는 HTML 문서의 구조를 나타내며 모든 HTML 태그, 속성 및 서로의 관계를 포함

**CSSOM 트리 작성**

- CSS 문서를 연결한 `<link>` or `<style>` 태그를 만나면 CSS 문서를 파싱 하여 스타일 규칙을 담고 있는 CSSOM 트리를 만들기 시작
- CSSOM을 생성하는 과정은 DOM을 생성하는 과정과 같음

> 👉 HTML 문서 파싱 -> **DOM 트리 생성**
> 
> 
> 👉 CSS 문서 파싱 -> **CSSOM 트리 생성**
> 

### 2. 렌더 트리

- **실제 화면에 표현되는 노드들로만 구성된 트리**
- **화면상** 눈에 보이지 않더라도 **공간을 차지하면 포함**

<center><img width="400" alt="image" src="https://github.com/why-only-english/Programmers/assets/114092152/f63e1645-b33e-48ad-ad57-5799477208d3"></center>

**렌더 트리 작성**

- 파싱 후 브라우저는 DOM 트리, CSSOM 트리와 함께 화면에 렌더링 해야 하는 요소만 포함하는 렌더 트리라는 두 번째 트리 구조를 생성
- 렌더 트리는 CSS 코드에 정의된 스타일뿐만 아니라 JavaScript 코드에 의해 레이아웃에 변경된 사항도 고려
- 파싱 하여 만든 DOM 트리와 CSSOM 트리를 결합하는 과정을 `Attachment` 라고 함

### 3. 레이아웃

- 렌더 트리가 생성되면 브라우저가 레이아웃 작업을 수행하여 화면에서 각 요소의 정확한 위치와 크기를 결정
- 웹페이지 화면 안에서 렌더 트리에 있는 각 노드의 위치와 크기, 너비, 높이 등을 **계산**하고 화면에 **배치**하는 레이아웃 과정이 실행

<center><img width="400" alt="image" src="https://github.com/why-only-english/Programmers/assets/114092152/db539ac4-7bfb-4874-a6c1-f58fd1397541"></center>

### 4. 페인팅

- **레이아웃 과정에서 계산된 정보들을 바탕으로 각 노드들을 화면에 그려주는 과정**
- 렌더 트리와 레이아웃 정보를 사용하여 각 요소의 색상, 크기 및 위치를 포함하여 각 요소의 정확한 모양을 결정하여 화면에 각 요소를 칠함(paint)

> 이 프로세스를 통해 브라우저는 **리소스 캐싱 및 프리로드**, **중요하지 않은 렌더링 지연**, **하드웨어 가속 사용** 등 다양한 최적화 기술을 사용하여 성능을 향상시킬 수 있다.
>